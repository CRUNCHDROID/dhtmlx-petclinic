function docklet(b){switch(b.widgetType){case"form":this._widget=this._createForm(b);break;case"grid":this._widget=this._createGrid(b);break;case"dataview":this._widget=this._createDataView(b);break;default:throw"invalid widgetType : "+b.widgetType}this._url=b.url;this._widgetType=b.widgetType}docklet.prototype={getWidget:function(){return this._widget},_is:function(e,d){var f=Object.prototype.toString.call(d).slice(8,-1);return d!==undefined&&d!==null&&f===e},_createForm:function(d){var e;if(this._is("String",d.container)){e=new dhtmlXForm(d.container)}else{var f=[];e=d.container.attachForm(f)}if(d.onXLS!=undefined){e.attachEvent("onXLS",d.onXLS)}if(d.onXLE!=undefined){e.attachEvent("onXLE",d.onXLE)}if(d.url!=undefined){e.loadStruct(d.url,function(){if(d.init!=undefined){d.init(e)}if(d.onButtonClick!=undefined){e.attachEvent("onButtonClick",d.onButtonClick)}})}return e},_createGrid:function(c){var d;if(this._is("String",c.container)){d=new dhtmlXGrid(c.container)}else{d=c.container.attachGrid()}d.setSkin("dhx_skyblue");d.setImagePath("/imgs/");if(c.onXLS!=undefined){d.attachEvent("onXLS",c.onXLS)}if(c.onXLE!=undefined){d.attachEvent("onXLE",c.onXLE)}if(c.onRowDblClicked!=undefined){d.attachEvent("onRowDblClicked",c.onRowDblClicked)}if(c.onRowSelect!=undefined){d.attachEvent("onRowSelect",c.onRowSelect)}if(c.url!=undefined){d.loadXML(c.url,function(){if(c.init!=undefined){c.init(d)}})}return d},_createDataView:function(c){var d;if(this._is("String",c.container)){d=new dhtmlXDataView(c)}else{d=c.container.attachDataView(c)}if(c.url!=undefined){d.load(c.url,function(){if(c.init!=undefined){c.init(d)}})}return d},load:function(c){var d=c==undefined?this._url:c;switch(this._widgetType){case"form":this._widget.clear();this._widget.load(c);break;case"grid":this._widget.clearAll();this._widget.loadXML(c);break;case"dataview":break}}};function parseResponse(a,b){var c=[];if(a.xmlDoc.status==200){c=this.parseErrorList(b)}else{c[0]="Http error ("+a.xmlDoc.status+")"}return c}function parseErrorList(a){var b=[];$("action",a).each(function(c){field=$(this).attr("field");if(field!=undefined){message=$(this).attr("message");b[field]=field+" "+message}});return b}function showMessage(a,b){var c=false;$("#message_txt").remove();for(i in b){a.setValidateCss(i,false);if(!c){$('<div id="message_txt" class="error message"><p>Error : '+b[i]+"</p></div>").insertAfter($("#messagebar"));$("#message_txt").animate({opacity:0.99},function(){return true});c=true}}if(!c){$('<div id="message_txt" class="info message"><p>Record Saved</p></div>').insertAfter($("#messagebar"));$("#message_txt").animate({opacity:0.99},function(){return true})}return c}function ValidDateFormat(a){return is("Date",a)}function is(a,b){var c=Object.prototype.toString.call(b).slice(8,-1);return b!==undefined&&b!==null&&c===a}function goTo(a){layout.progressOn();window.location=a};